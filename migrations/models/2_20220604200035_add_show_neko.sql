-- upgrade --
ALTER TABLE `contest` MODIFY COLUMN `publish_editorial` BOOL NOT NULL  DEFAULT 0;
ALTER TABLE `contest` MODIFY COLUMN `is_public` BOOL NOT NULL;
ALTER TABLE `contest` MODIFY COLUMN `editorial_content` LONGTEXT NOT NULL;
ALTER TABLE `contest` MODIFY COLUMN `start_time` DATETIME(6) NOT NULL;
ALTER TABLE `contesttaskpoints` MODIFY COLUMN `_points` LONGTEXT NOT NULL;
ALTER TABLE `sidebar` MODIFY COLUMN `content` LONGTEXT NOT NULL;
ALTER TABLE `submission` MODIFY COLUMN `source_code` LONGTEXT NOT NULL;
ALTER TABLE `submission` MODIFY COLUMN `_subtask_scores` LONGTEXT;
ALTER TABLE `submission` MODIFY COLUMN `first_solve` BOOL NOT NULL  DEFAULT 0;
ALTER TABLE `submission` MODIFY COLUMN `time` DATETIME(6) NOT NULL;
ALTER TABLE `task` MODIFY COLUMN `content` LONGTEXT NOT NULL;
ALTER TABLE `task` MODIFY COLUMN `is_public` BOOL NOT NULL;
ALTER TABLE `user` ADD `show_neko` BOOL NOT NULL  DEFAULT 0;
ALTER TABLE `user` MODIFY COLUMN `is_student` BOOL NOT NULL;
ALTER TABLE `user` MODIFY COLUMN `can_edit_profile` BOOL NOT NULL  DEFAULT 1;
ALTER TABLE `user` MODIFY COLUMN `is_admin` BOOL NOT NULL;
-- downgrade --
ALTER TABLE `task` MODIFY COLUMN `content` LONGTEXT NOT NULL;
ALTER TABLE `task` MODIFY COLUMN `is_public` BOOL NOT NULL;
ALTER TABLE `user` DROP COLUMN `show_neko`;
ALTER TABLE `user` MODIFY COLUMN `is_student` BOOL NOT NULL;
ALTER TABLE `user` MODIFY COLUMN `can_edit_profile` BOOL NOT NULL  DEFAULT 1;
ALTER TABLE `user` MODIFY COLUMN `is_admin` BOOL NOT NULL;
ALTER TABLE `contest` MODIFY COLUMN `publish_editorial` BOOL NOT NULL  DEFAULT 0;
ALTER TABLE `contest` MODIFY COLUMN `is_public` BOOL NOT NULL;
ALTER TABLE `contest` MODIFY COLUMN `editorial_content` LONGTEXT NOT NULL;
ALTER TABLE `contest` MODIFY COLUMN `start_time` DATETIME(6) NOT NULL;
ALTER TABLE `sidebar` MODIFY COLUMN `content` LONGTEXT NOT NULL;
ALTER TABLE `submission` MODIFY COLUMN `source_code` LONGTEXT NOT NULL;
ALTER TABLE `submission` MODIFY COLUMN `_subtask_scores` LONGTEXT;
ALTER TABLE `submission` MODIFY COLUMN `first_solve` BOOL NOT NULL  DEFAULT 0;
ALTER TABLE `submission` MODIFY COLUMN `time` DATETIME(6) NOT NULL;
ALTER TABLE `contesttaskpoints` MODIFY COLUMN `_points` LONGTEXT NOT NULL;
